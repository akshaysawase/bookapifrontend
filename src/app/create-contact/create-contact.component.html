<!--  -->
<app-app-header></app-app-header>
<div class="alert alert-success" *ngIf="showalert" style="z-index: 999;margin-top: 60px; ">
  <a href="/createContact" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>Success!</strong> Contact Created Successfully !
</div>
<div class="alert alert-success" *ngIf="updateStatus" style="z-index: 999;margin-top: 60px; ">
  <a href="/contactlist" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>Success!</strong> Contact Updated Successfully ! !
</div>
<div class="alert alert-danger" *ngIf="errorStatus" style="z-index: 999;margin-top: 60px; ">
  <a href="/createContact" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  <strong>Failed!</strong> Please Enter Valid Contact Details
</div>
<h3 style=" margin-top:30px;" *ngIf= "enableEdit" class="update">Update Contact</h3>
<h3 style=" margin-top:30px;" *ngIf= "!enableEdit" class="create">New Contact</h3>


<div class="container formcreate">
  <form [formGroup]="addContact"  >
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="first">First Name</label>
          <input type="text" class="form-control" formControlName="firstname"  placeholder="Name" id="first">
          <div class="text-danger" *ngIf="addContact.controls.firstname.invalid && (addContact.controls.firstname.dirty || addContact.controls.firstname.touched)">
            <div *ngIf="addContact.controls.firstname.errors.required">
              Please Enter Valid Name
          </div>
          </div>
        </div>
      </div>
      <!--  col-md-6   -->

      <div class="col-md-6">
        <div class="form-group">
          <label for="last">Email</label>
          <input type="email" class="form-control" formControlName="email" placeholder="Email" id="emailid">
          <div class="text-danger" *ngIf="addContact.controls.email.invalid && (addContact.controls.email.dirty || addContact.controls.email.touched)">
            <div *ngIf="addContact.controls.email.errors.required">
              Please Enter Valid Email
          </div>
          </div>
        </div>
      </div>
      <!--  col-md-6   -->

      <div class="col-md-6">
        <div class="form-group">
          <label for="last">Mobile No</label>
          <input type="number" class="form-control" formControlName="mobile" placeholder="Mobile" id="mobile">
          <div class="text-danger" *ngIf="addContact.controls.mobile.invalid && (addContact.controls.mobile.dirty || addContact.controls.mobile.touched)">
            <div *ngIf="addContact.controls.mobile.errors.required">
              Please Enter Valid Mobile
          </div>
          <div *ngIf="addContact.controls.mobile.errors.pattern">
              Mobile Number is NOT Valid.
          </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="last">Address</label>
          <input type="text" class="form-control" formControlName="address" placeholder="Address" id="address">
          <div class="text-danger" *ngIf="addContact.controls.address.invalid && (addContact.controls.address.dirty || addContact.controls.address.touched)">
            <div *ngIf="addContact.controls.address.errors.required">
              Please Enter Valid Address
          </div>
          </div>
        </div>
      </div>


      <div class="col-md-6">
        <div class="form-group">
          <label for="Country">Country</label>
          <select class="form-select" formControlName="country" aria-label="Default select example" (click)="getCountries()" >
            <option selected value="">Select Your Country</option>
            <option selected *ngIf="enableUpdate" value="{{updateCountry}}">{{updateCountry}}</option>
            <option value="{{name}}" *ngFor="let name of countryName">{{name}}</option>



          </select>
          <div class="text-danger" *ngIf="addContact.controls.country.invalid && (addContact.controls.country.dirty || addContact.controls.country.touched)">
            <div *ngIf="addContact.controls.country.errors.required">
              Please Select Your Country
          </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">

      </div>


      <div class="col-md-6">
        <div class="form-group">
          <button type="submit" class="btn btn-success" (click)="onSubmit()" *ngIf="!enableUpdate" >Save</button>
          <button type="submit" class="btn btn-success" *ngIf = "enableUpdate" (click)="onUpdate()" >Update</button>
          <p *ngIf = "enableUpdate" class="text-danger">Note : Don't Refresh the page before updating...</p>
        </div>
      </div>
<!--
      <div class="col-md-6">

      </div> -->


    </div>
  </form>
  </div>


  <!-- <ul *ngFor="name in country">
    <li>{{name.name}}</li>
  </ul> -->



